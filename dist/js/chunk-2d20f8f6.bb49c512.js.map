{"version":3,"sources":["webpack:///./src/views/board/skins/gallery/Form.vue?ed19","webpack:///src/views/board/skins/gallery/Form.vue","webpack:///./src/views/board/skins/gallery/Form.vue?dc7b","webpack:///./src/views/board/skins/gallery/Form.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","_v","_s","pageTitle","loading","on","save","ref","model","value","callback","$$v","valid","expression","config","bo_category","rules","require","label","parentItem","form","$set","_e","member","wr_id","name","email","password","required","id","matchValue","wr_password","confimPw","wr_title","uploadImage","tags","_l","item","i","key","title","staticClass","fileTitle","wrFiles","remove","uploadFiles","$event","staticRenderFns","components","props","Object","access","String","Number","data","Array","bo_upload_cnt","fill","upImages","isWrite","computed","table","bo_table","pid","$route","query","act","mounted","init","destroyed","length","$axios","put","methods","initForm","wr_reply","wr_parent","mb_id","wr_email","mb_email","wr_name","mb_name","wr_category","ca","wr_content","wrTags","wrFile","bf_name","component"],"mappings":"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","file":"js/chunk-2d20f8f6.bb49c512.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-toolbar',[_c('v-toolbar-title',[_vm._v(_vm._s(_vm.pageTitle))]),_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"primary\",\"loading\":_vm.loading},on:{\"click\":_vm.save}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-pencil\")]),_vm._v(\" 저장 \")],1)],1),(_vm.form)?_c('v-form',{ref:\"form\",attrs:{\"lazy-validation\":\"\"},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[(_vm.config.bo_use_category)?_c('v-select',{attrs:{\"label\":\"카데고리\",\"items\":_vm.config.bo_category,\"rules\":[_vm.rules.require({ label: '카데고리' })],\"readonly\":!!_vm.parentItem},model:{value:(_vm.form.wr_category),callback:function ($$v) {_vm.$set(_vm.form, \"wr_category\", $$v)},expression:\"form.wr_category\"}}):_vm._e(),(!_vm.member)?[_c('v-text-field',{attrs:{\"label\":\"이름\",\"readonly\":!!_vm.form.wr_id,\"rules\":_vm.rules.name()},model:{value:(_vm.form.wr_name),callback:function ($$v) {_vm.$set(_vm.form, \"wr_name\", $$v)},expression:\"form.wr_name\"}}),_c('v-text-field',{attrs:{\"label\":\"이메일\",\"rules\":_vm.rules.email()},model:{value:(_vm.form.wr_email),callback:function ($$v) {_vm.$set(_vm.form, \"wr_email\", $$v)},expression:\"form.wr_email\"}}),_c('input-password',{attrs:{\"label\":\"비밀번호\",\"rules\":_vm.rules.password({ required: !_vm.id })},model:{value:(_vm.form.wr_password),callback:function ($$v) {_vm.$set(_vm.form, \"wr_password\", $$v)},expression:\"form.wr_password\"}}),_c('input-password',{attrs:{\"label\":\"비밀번호 확인\",\"rules\":[_vm.rules.matchValue(_vm.form.wr_password)]},model:{value:(_vm.confimPw),callback:function ($$v) {_vm.confimPw=$$v},expression:\"confimPw\"}})]:_vm._e(),(_vm.parentItem)?_c('v-expansion-panels',[_c('v-expansion-panel',[_c('v-expansion-panel-header',[_vm._v(\" 부모글 : \"+_vm._s(_vm.parentItem.wr_title)+\" \")]),_c('v-expansion-panel-content',[_c('ez-tiptap',{attrs:{\"editable\":false},model:{value:(_vm.parentItem.wr_content),callback:function ($$v) {_vm.$set(_vm.parentItem, \"wr_content\", $$v)},expression:\"parentItem.wr_content\"}})],1)],1)],1):_vm._e(),_c('v-text-field',{attrs:{\"label\":\"제목\",\"counter\":\"120\",\"rules\":[_vm.rules.require({ label: '제목' })]},model:{value:(_vm.form.wr_title),callback:function ($$v) {_vm.$set(_vm.form, \"wr_title\", $$v)},expression:\"form.wr_title\"}}),_c('ez-tiptap',{attrs:{\"editable\":true},on:{\"uploadImage\":_vm.uploadImage},model:{value:(_vm.form.wr_content),callback:function ($$v) {_vm.$set(_vm.form, \"wr_content\", $$v)},expression:\"form.wr_content\"}}),_c('v-combobox',{attrs:{\"label\":\"검색태그\",\"items\":_vm.tags,\"multiple\":\"\",\"chips\":\"\",\"deletable-chips\":\"\",\"hide-selected\":\"\"},model:{value:(_vm.form.wrTags),callback:function ($$v) {_vm.$set(_vm.form, \"wrTags\", $$v)},expression:\"form.wrTags\"}}),_vm._l((_vm.config.wr_fields),function(item,i){return _c('div',{key:i},[(item.title)?_c('v-text-field',{attrs:{\"label\":item.title,\"rules\":item.required ? [_vm.rules.require({ label: item.title })] : []},model:{value:(_vm.form[(\"wr_\" + (i + 1))]),callback:function ($$v) {_vm.$set(_vm.form, (\"wr_\" + (i + 1)), $$v)},expression:\"form[`wr_${i + 1}`]\"}}):_vm._e()],1)}),_vm._l((_vm.config.bo_upload_cnt),function(i){return _c('div',{staticClass:\"d-flex\"},[_c('v-file-input',{attrs:{\"label\":_vm.fileTitle(i),\"show-size\":\"\",\"disabled\":_vm.form.wrFiles && _vm.form.wrFiles[i - 1]\n            ? !_vm.form.wrFiles[i - 1].remove\n            : false},model:{value:(_vm.uploadFiles[i - 1]),callback:function ($$v) {_vm.$set(_vm.uploadFiles, i - 1, $$v)},expression:\"uploadFiles[i - 1]\"}}),(_vm.form.wrFiles && _vm.form.wrFiles[i - 1])?_c('div',[_c('v-checkbox',{attrs:{\"label\":\"삭제\"},on:{\"change\":function($event){_vm.uploadFiles[i - 1] = null}},model:{value:(_vm.form.wrFiles[i - 1].remove),callback:function ($$v) {_vm.$set(_vm.form.wrFiles[i - 1], \"remove\", $$v)},expression:\"form.wrFiles[i - 1].remove\"}})],1):_vm._e()],1)})],2):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container fluid>\n    <v-toolbar>\n      <v-toolbar-title>{{ pageTitle }}</v-toolbar-title>\n      <v-spacer />\n      <v-btn @click=\"save\" color=\"primary\" :loading=\"loading\">\n        <v-icon left>mdi-pencil</v-icon>\n        저장\n      </v-btn>\n    </v-toolbar>\n\n    <v-form v-if=\"form\" ref=\"form\" v-model=\"valid\" lazy-validation>\n      <v-select\n        v-if=\"config.bo_use_category\"\n        label=\"카데고리\"\n        v-model=\"form.wr_category\"\n        :items=\"config.bo_category\"\n        :rules=\"[rules.require({ label: '카데고리' })]\"\n        :readonly=\"!!parentItem\"\n      ></v-select>\n      <template v-if=\"!member\">\n        <v-text-field\n          label=\"이름\"\n          v-model=\"form.wr_name\"\n          :readonly=\"!!form.wr_id\"\n          :rules=\"rules.name()\"\n        />\n        <v-text-field\n          label=\"이메일\"\n          v-model=\"form.wr_email\"\n          :rules=\"rules.email()\"\n        />\n        <input-password\n          label=\"비밀번호\"\n          v-model=\"form.wr_password\"\n          :rules=\"rules.password({ required: !id })\"\n        />\n        <input-password\n          label=\"비밀번호 확인\"\n          v-model=\"confimPw\"\n          :rules=\"[rules.matchValue(form.wr_password)]\"\n        />\n      </template>\n\n      <v-expansion-panels v-if=\"parentItem\">\n        <v-expansion-panel>\n          <v-expansion-panel-header>\n            부모글 : {{ parentItem.wr_title }}\n          </v-expansion-panel-header>\n          <v-expansion-panel-content>\n            <ez-tiptap v-model=\"parentItem.wr_content\" :editable=\"false\" />\n          </v-expansion-panel-content>\n        </v-expansion-panel>\n      </v-expansion-panels>\n\n      <v-text-field\n        label=\"제목\"\n        v-model=\"form.wr_title\"\n        counter=\"120\"\n        :rules=\"[rules.require({ label: '제목' })]\"\n      />\n\n      <ez-tiptap\n        :editable=\"true\"\n        v-model=\"form.wr_content\"\n        @uploadImage=\"uploadImage\"\n      />\n\n      <v-combobox\n        label=\"검색태그\"\n        v-model=\"form.wrTags\"\n        :items=\"tags\"\n        multiple\n        chips\n        deletable-chips\n        hide-selected\n      />\n\n      <div v-for=\"(item, i) in config.wr_fields\" :key=\"i\">\n        <v-text-field\n          v-if=\"item.title\"\n          :label=\"item.title\"\n          v-model=\"form[`wr_${i + 1}`]\"\n          :rules=\"item.required ? [rules.require({ label: item.title })] : []\"\n        />\n      </div>\n\n      <div v-for=\"i in config.bo_upload_cnt\" class=\"d-flex\">\n        <v-file-input\n          :label=\"fileTitle(i)\"\n          v-model=\"uploadFiles[i - 1]\"\n          show-size\n          :disabled=\"\n            form.wrFiles && form.wrFiles[i - 1]\n              ? !form.wrFiles[i - 1].remove\n              : false\n          \"\n        />\n        <div v-if=\"form.wrFiles && form.wrFiles[i - 1]\">\n          <v-checkbox\n            v-model=\"form.wrFiles[i - 1].remove\"\n            label=\"삭제\"\n            @change=\"uploadFiles[i - 1] = null\"\n          />\n        </div>\n      </div>\n    </v-form>\n  </v-container>\n</template>\n\n<script>\nimport { mapState } from \"vuex\";\nimport validateRules from \"../../../../../util/validateRules\";\nimport InputPassword from \"../../../../components/InputForms/InputPassword.vue\";\n\nexport default {\n  components: { InputPassword },\n  name: \"BasicForm\",\n  title() {\n    return this.pageTitle;\n  },\n  props: {\n    config: Object,\n    access: Object,\n    id: [String, Number],\n  },\n  data() {\n    return {\n      form: null,\n      valid: true,\n      confimPw: \"\",\n      uploadFiles: Array(this.config.bo_upload_cnt).fill(null),\n      tags: [], // TODO : 서버에서 태그 목록을 가져온다.\n      loading: false,\n      upImages: [],\n      isWrite: false, // 작성을 했는지 여부\n      parentItem: null, // 부모글\n    };\n  },\n  computed: {\n    ...mapState({\n      member: (state) => state.user.member,\n    }),\n    table() {\n      return this.config.bo_table;\n    },\n    pid() {\n      if (this.$route.query.act == \"reply\") {\n        return this.id;\n      } else {\n        return 0;\n      }\n    },\n    pageTitle() {\n      return (\n        this.config.bo_subject + (this.id ? \" 게시물 수정\" : \" 게시물 작성\")\n      );\n    },\n    rules: () => validateRules,\n  },\n  mounted() {\n    this.init();\n  },\n  destroyed() {\n    // 작성을 완료하지 않고 에디터에서 업로드한 이미지가 있으면 삭제를 요청함\n    if (!this.isWrite && this.upImages.length) {\n      this.$axios.put(`/api/board/imgCancle/${this.table}`, this.upImages);\n    }\n  },\n  methods: {\n    async init() {\n      if (this.id) {\n        const data = await this.$axios.get(\n          `/api/board/read/${this.table}/${this.id}`\n        );\n        if (this.pid) {\n          // 부모글의 답글\n          this.initForm();\n          this.form.wr_category = data.wr_category; // 부모글의 카데고리를 따라감\n          this.parentItem = data;\n        } else {\n          // 수정\n          this.form = data;\n        }\n        this.form.wr_password = \"\";\n      } else {\n        // 새글\n        this.initForm();\n      }\n    },\n    initForm() {\n      const form = {\n        wr_reply: 0,\n        wr_parent: this.pid, //  답글 작성할때 부모글 아이들 넣음\n        mb_id: this.member ? this.member.mb_id : 0, // 0이면 비회원 글 작성임\n        wr_email: this.member ? this.member.mb_email : \"\",\n        wr_name: this.member ? this.member.mb_name : \"\",\n        wr_password: \"\",\n        wr_category: this.$route.query.ca || this.config.bo_category[0] || \"\",  // TODO: 링크할때 카데고리 정보를 넘긴다\n        wr_title: \"\",\n        wr_content: \"\",\n        wrTags: [],\n        // wrImgs: [],\n        // wrFiles: [],\n      };\n      for (let i = 1; i <= 10; i++) {\n        form[`wr_${i}`] = \"\";\n      }\n      this.form = form;\n    },\n    fileTitle(i) {\n      //  TODO : 수정 할때 올렷던 파일 이름 요기서 사용할꺼에요\n      if (this.form.wrFiles) {\n        const wrFile = this.form.wrFiles[i - 1];\n        return wrFile && !wrFile.remove ? wrFile.bf_name : `첨부파일 ${i}`;\n      } else {\n        return `첨부파일 ${i}`;\n      }\n    },\n    async uploadImage({ file, desc, callback }) {\n      const formData = new FormData();\n      formData.append(\"upFile\", file);\n      formData.append(\"bf_desc\", desc);\n      const data = await this.$axios.post(\n        `/api/board/imageUpload/${this.table}`,\n        formData\n      );\n      this.upImages.push(data);\n      callback(`/upload/${this.table}/${data.bf_src}`);\n    },\n    async save() {\n      this.$refs.form.validate();\n      await this.$nextTick();\n      if (!this.valid) return;\n\n      this.loading = true;\n\n      const formData = new FormData();\n      const keys = Object.keys(this.form);\n\n      for (const key of keys) {\n        if (typeof this.form[key] == \"object\") {\n          formData.append(key, JSON.stringify(this.form[key]));\n        } else {\n          formData.append(key, this.form[key]);\n        }\n      }\n\n      // 작성시 토큰있는경우 토큰을 삽입\n      if (this.$route.query.token) {\n        formData.append(\"token\", this.$route.query.token);\n      }\n\n      let cnt = 0;\n      for (let i = 0; i < this.config.bo_upload_cnt; i++) {\n        if (this.uploadFiles[i] != null) {\n          formData.append(`upFiles[${cnt}]`, this.uploadFiles[i]);\n          cnt++;\n        }\n      }\n\n      // 에디터에서 업로드한 이미지\n      formData.append(\"upImages\", JSON.stringify(this.upImages));\n\n      let wr_id;\n      if (this.id && !this.pid) {\n        wr_id = await this.update(formData);\n      } else {\n        wr_id = await this.insert(formData);\n      }\n\n      // 글작성이 잘 끝났으면\n      if (wr_id) {\n        this.isWrite = true;\n        this.$router.push(`/board/${this.table}/${wr_id}`);\n      }\n\n      this.loading = false;\n    },\n    async insert(formData) {\n      const data = await this.$axios.post(\n        `/api/board/write/${this.table}`,\n        formData\n      );\n      return data.wr_id;\n    },\n    async update(formData) {\n      const data = await this.$axios.put(\n        `/api/board/write/${this.table}/${this.id}`,\n        formData\n      );\n      return data.wr_id;\n    },\n  },\n};\n</script>\n\n<style>\n</style>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Form.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Form.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Form.vue?vue&type=template&id=375df15c&\"\nimport script from \"./Form.vue?vue&type=script&lang=js&\"\nexport * from \"./Form.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}