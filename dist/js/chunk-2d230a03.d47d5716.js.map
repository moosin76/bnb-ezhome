{"version":3,"sources":["webpack:///./src/views/board/skins/gallery/component/CommnetForm.vue?f762","webpack:///src/views/board/skins/gallery/component/CommnetForm.vue","webpack:///./src/views/board/skins/gallery/component/CommnetForm.vue?8578","webpack:///./src/views/board/skins/gallery/component/CommnetForm.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","ref","attrs","model","value","callback","$$v","valid","expression","label","rules","require","on","$event","type","indexOf","_k","keyCode","key","ctrlKey","save","apply","arguments","scopedSlots","_u","fn","item","wr_parent","$emit","_v","_e","proxy","form","$set","trim","$route","staticRenderFns","name","props","table","wr_reply","data","computed","created","initForm","methods","member","mb_id","wr_email","mb_email","wr_name","mb_name","wr_content","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAQF,EAAU,OAAEI,EAAG,MAAM,CAACA,EAAG,SAAS,CAACE,IAAI,OAAOC,MAAM,CAAC,kBAAkB,IAAIC,MAAM,CAACC,MAAOT,EAAS,MAAEU,SAAS,SAAUC,GAAMX,EAAIY,MAAMD,GAAKE,WAAW,UAAU,CAACT,EAAG,aAAa,CAACG,MAAM,CAAC,MAAQP,EAAIc,MAAM,MAAQ,CAACd,EAAIe,MAAMC,QAAQ,CAAEF,MAAOd,EAAIc,SAAU,KAAO,IAAI,YAAY,IAAIG,GAAG,CAAC,QAAU,SAASC,GAAQ,OAAIA,EAAOC,KAAKC,QAAQ,QAAQpB,EAAIqB,GAAGH,EAAOI,QAAQ,QAAQ,GAAGJ,EAAOK,IAAI,SAAkB,KAAWL,EAAOM,QAA+BxB,EAAIyB,KAAKC,MAAM,KAAMC,WAAnC,OAAgDC,YAAY5B,EAAI6B,GAAG,CAAC,CAACN,IAAI,eAAeO,GAAG,WAAW,MAAO,CAAE9B,EAAI+B,MAAQ/B,EAAIgC,UAAW5B,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,IAAIU,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOlB,EAAIiC,MAAM,cAAc,CAAC7B,EAAG,SAAS,CAACJ,EAAIkC,GAAG,gBAAgB,GAAGlC,EAAImC,KAAK/B,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,IAAIU,GAAG,CAAC,MAAQjB,EAAIyB,OAAO,CAACrB,EAAG,SAAS,CAACJ,EAAIkC,GAAG,iBAAiB,KAAKE,OAAM,IAAO,MAAK,EAAM,WAAW5B,MAAM,CAACC,MAAOT,EAAIqC,KAAe,WAAE3B,SAAS,SAAUC,GAAMX,EAAIsC,KAAKtC,EAAIqC,KAAM,aAA8B,kBAAR1B,EAAkBA,EAAI4B,OAAQ5B,IAAOE,WAAW,sBAAsB,IAAI,GAAGT,EAAG,MAAM,CAACJ,EAAIkC,GAAG,2BAA2B9B,EAAG,QAAQ,CAACG,MAAM,CAAC,GAAM,eAAkBP,EAAIwC,OAAe,WAAK,CAACxC,EAAIkC,GAAG,UAAU,IACjuCO,EAAkB,G,qGC+BtB,GACEC,KAAM,cACNC,MAAO,CACLC,MAAO,CAAX,yBACIC,SAAU,CAAd,yBACIb,UAAW,CAAf,uBACID,KAAM,CAAV,2BAEEe,KARF,WASI,MAAO,CACLlC,OAAO,EACPyB,KAAM,OAGVU,SAAU,OAAZ,OAAY,CAAZ,kBACA,gBACI,OAAJ,YAAM,OAAN,kBAFA,IAIIhC,MAAO,WAAX,YACID,MALJ,WAMM,OAAIb,KAAK8B,KACA,QAEkB,GAAlB9B,KAAK+B,UAAiB,QAAU,WAI7CgB,QA3BF,WA4BI/C,KAAKgD,YAEPC,QAAS,CACPD,SADJ,WAEM,GAAIhD,KAAKkD,OACP,GAAIlD,KAAK8B,KAEP9B,KAAKoC,KAAO,OAAtB,cAAsB,CAAtB,eACA,CAEU,IAAV,GACYQ,SAAU5C,KAAK4C,SACfb,UAAW/B,KAAK+B,UAChBoB,MAAOnD,KAAKkD,OAAOC,MACnBC,SAAUpD,KAAKkD,OAAOG,SACtBC,QAAStD,KAAKkD,OAAOK,QACrBC,WAAY,IAEdxD,KAAKoC,KAAOA,IAIlB,KApBJ,WAoBA,qKACA,wBADA,SAEA,cAFA,UAGA,QAHA,qDAKA,OALA,iCAOA,wCACA,QADA,YACA,cACA,QATA,OAOA,EAPA,gDAaA,yCACA,SACA,QAfA,QAaA,EAbA,eAmBA,IACA,sBACA,aACA,+BACA,oBAvBA,iDClFiZ,I,YCO7YqB,EAAY,eACd,EACA3D,EACA0C,GACA,EACA,KACA,KACA,MAIa,aAAAiB,E","file":"js/chunk-2d230a03.d47d5716.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.member)?_c('div',[_c('v-form',{ref:\"form\",attrs:{\"lazy-validation\":\"\"},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-textarea',{attrs:{\"label\":_vm.label,\"rules\":[_vm.rules.require({ label: _vm.label })],\"rows\":\"2\",\"auto-grow\":\"\"},on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }if(!$event.ctrlKey){ return null; }return _vm.save.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"append-outer\",fn:function(){return [(_vm.item || _vm.wr_parent)?_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.$emit('onClose')}}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1):_vm._e(),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":_vm.save}},[_c('v-icon',[_vm._v(\"mdi-pencil\")])],1)]},proxy:true}],null,false,575172357),model:{value:(_vm.form.wr_content),callback:function ($$v) {_vm.$set(_vm.form, \"wr_content\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.wr_content\"}})],1)],1):_c('div',[_vm._v(\" 로그인 후 댓글을 작성할 수 있습니다. \"),_c('v-btn',{attrs:{\"to\":(\"/login?next=\" + (_vm.$route.fullPath))}},[_vm._v(\"로그인\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div v-if=\"member\">\n    <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n      <v-textarea\n        v-model.trim=\"form.wr_content\"\n        :label=\"label\"\n        :rules=\"[rules.require({ label })]\"\n        rows=\"2\"\n        auto-grow\n        @keydown.ctrl.enter=\"save\"\n      >\n        <template v-slot:append-outer>\n          <v-btn v-if=\"item || wr_parent\" icon @click=\"$emit('onClose')\">\n            <v-icon>mdi-close</v-icon>\n          </v-btn>\n          <v-btn icon @click=\"save\">\n            <v-icon>mdi-pencil</v-icon>\n          </v-btn>\n        </template>\n      </v-textarea>\n    </v-form>\n  </div>\n  <div v-else>\n    로그인 후 댓글을 작성할 수 있습니다.\n    <v-btn :to=\"`/login?next=${$route.fullPath}`\">로그인</v-btn>\n  </div>\n</template>\n\n<script>\nimport { mapState } from \"vuex\";\nimport { deepCopy } from \"../../../../../../util/lib\";\nimport validateRules from \"../../../../../../util/validateRules\";\nexport default {\n  name: \"CommentForm\",\n  props: {\n    table: { type: String, required: true },\n    wr_reply: { type: Number, required: true }, // 게시물 번호\n    wr_parent: { type: Number, default: 0 },\n    item: { type: Object, default: null },\n  },\n  data() {\n    return {\n      valid: true,\n      form: null,\n    };\n  },\n  computed: {\n    ...mapState({\n      member: (state) => state.user.member,\n    }),\n    rules: () => validateRules,\n    label() {\n      if (this.item) {\n        return \"댓글 수정\";\n      } else {\n        return this.wr_parent == 0 ? \"댓글 작성\" : \"답글 달기\";\n      }\n    },\n  },\n  created() {\n    this.initForm();\n  },\n  methods: {\n    initForm() {\n      if (this.member) {\n        if (this.item) {\n          // 수정\n          this.form = deepCopy(this.item);\n        } else {\n          // 새글\n          const form = {\n            wr_reply: this.wr_reply,\n            wr_parent: this.wr_parent,\n            mb_id: this.member.mb_id,\n            wr_email: this.member.mb_email,\n            wr_name: this.member.mb_name,\n            wr_content: \"\",\n          };\n          this.form = form;\n        }\n      }\n    },\n    async save() {\n      this.$refs.form.validate();\n      await this.$nextTick();\n      if (!this.valid) return;\n      let data;\n      if (this.item) {\n        // 수정\n        data = await this.$axios.put(\n          `/api/board/write/${this.table}/${this.item.wr_id}`,\n          this.form\n        );\n      } else {\n        // 새글 // 답글\n        data = await this.$axios.post(\n          `/api/board/write/${this.table}`,\n          this.form\n        );\n      }\n\n      if (data) {\n        this.$emit(\"onUpdate\", data);\n        this.initForm();\n        this.$refs.form.resetValidation();\n\t\t\t\tthis.$emit('onClose');\n      }\n    },\n  },\n};\n</script>\n\n<style>\n</style>","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommnetForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommnetForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CommnetForm.vue?vue&type=template&id=cc5ec192&\"\nimport script from \"./CommnetForm.vue?vue&type=script&lang=js&\"\nexport * from \"./CommnetForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}